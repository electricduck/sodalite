include: [
  "../../lib/workstation-ostree-config_f36/fedora-common-ostree-pkgs.yaml",
  "../packages/essential.yaml",
  "../packages/flatpak.yaml",
  "../packages/fonts.yaml",
  "../packages/tools.yaml",
]

releasever: "36" # Fedora version
automatic-version-prefix: "${releasever}-22.14"
automatic-version-suffix: "."
mutate-os-release: "${releasever}"

repos:
 - fedora
 - fedora-updates

add-files: [
  # /etc
  ["../sysroot/common/etc/issue", "/etc/issue"],
  ["../sysroot/common/etc/tlp.d/50-vm-writeback.conf", "/etc/tlp.d/50-vm-writeback.conf"],
  ["../sysroot/common/etc/upstream-release/lsb-release", "/etc/upstream-release/lsb-release"],

  # /etc/systemd
  ["../sysroot/common/etc/systemd/system/generate-oemconf.service", "/etc/systemd/system/generate-oemconf.service"],
  ["../sysroot/common/etc/systemd/system/sodalite-migrate.service", "/etc/systemd/system/sodalite-migrate.service"],
  
  # /etc/xdg
  #["../sysroot/common/etc/xdg/autostart/appimaged.desktop", "/etc/xdg/autostart/appimaged.desktop"], # BUG: https://github.com/sodaliterocks/sodalite/issues/42
  ["../sysroot/common/etc/xdg/autostart/sodalite-user-startup.desktop", "/etc/xdg/autostart/sodalite-user-startup.desktop"],

  # /usr/bin
  ["../../lfs/binaries/appimage/appimaged_718~x86_64.AppImage", "/usr/bin/appimaged"],
  ["../../lib/sodaliterocks.hacks/src/hacks.sh", "/usr/bin/sodalite-hacks"],
  ["../sysroot/common/usr/bin/detach", "/usr/bin/detach"],
  ["../sysroot/common/usr/bin/soda", "/usr/bin/soda"],
  ["../sysroot/common/usr/bin/sodalite-user-startup", "/usr/bin/sodalite-user-startup"],
  ["../sysroot/common/usr/bin/serve", "/usr/bin/serve"],

  # /usr/lib
  ["../sysroot/common/usr/lib/sodalite-buildinfo", "/usr/lib/sodalite-buildinfo"],

  # /usr/libexec
  ["../../lib/sodaliterocks.hacks/src/plugins/cleanup.sh", "/usr/libexec/sodalite-hacks/plugins/cleanup.sh"],
  #["../../lib/sodaliterocks.hacks/src/plugins/flatpak.sh", "/usr/libexec/sodalite-hacks/plugins/flatpak.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/nvidia.sh", "/usr/libexec/sodalite-hacks/plugins/nvidia.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/oemconf.sh", "/usr/libexec/sodalite-hacks/plugins/oemconf.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/serve.sh", "/usr/libexec/sodalite-hacks/plugins/serve.sh"],
  ["../../lib/sodaliterocks.hacks/src/plugins/vscode.sh", "/usr/libexec/sodalite-hacks/plugins/vscode.sh"],
  ["../../lib/sodaliterocks.hacks/src/utils.sh", "/usr/libexec/sodalite-hacks/utils.sh"],

  # /usr/lib64/firefox-sodalite
  ["../../lib/sodaliterocks.firefox/config/browser/defaults/preferences/firefox.js", "/usr/lib64/firefox-sodalite/config/browser/defaults/preferences/firefox.js"],
  ["../../lib/sodaliterocks.firefox/config/distribution/distribution.ini", "/usr/lib64/firefox-sodalite/config/distribution/distribution.ini"],
  ["../../lib/sodaliterocks.firefox/omni/chrome/browser/content/browser/default-bookmarks.html", "/usr/lib64/firefox-sodalite/omni/chrome/browser/content/browser/default-bookmarks.html"],
  ["../../lib/sodaliterocks.firefox/setup.sh", "/usr/lib64/firefox-sodalite/setup.sh"],

  # /usr/share/backgrounds
  ["../../lfs/wallpapers/adrien-olichon-gXqgs6Smvw-unsplash.jpg", "/usr/share/backgrounds/default/adrien-olichon-gXqgs6Smvw-unsplash.jpg"],
  ["../../lfs/wallpapers/austin-neill-AGPGx6Yr9NI-unsplash.jpg", "/usr/share/backgrounds/default/austin-neill-AGPGx6Yr9NI-unsplash.jpg"],
  ["../../lfs/wallpapers/cody-fitzgerald-iUBG6hQe4N0-unsplash.jpg", "/usr/share/backgrounds/default/cody-fitzgerald-iUBG6hQe4N0-unsplash.jpg"],
  ["../../lfs/wallpapers/dustin-humes-OrO_HSqlZMY-unsplash.jpg", "/usr/share/backgrounds/default/dustin-humes-OrO_HSqlZMY-unsplash.jpg"],
  ["../../lfs/wallpapers/jack-b-vcNPMwS08UI-unsplash.jpg", "/usr/share/backgrounds/default/jack-b-vcNPMwS08UI-unsplash.jpg"],
  ["../../lfs/wallpapers/jeremy-gerritsen-_iviuukstI4-unsplash.jpg", "/usr/share/backgrounds/default/jeremy-gerritsen-_iviuukstI4-unsplash.jpg"],
  ["../../lfs/wallpapers/max-okhrimenko-R-CoXmMrWFk-unsplash.jpg", "/usr/share/backgrounds/default/max-okhrimenko-R-CoXmMrWFk-unsplash.jpg"],
  ["../../lfs/wallpapers/nathan-dumlao-y_qtd7IizFE-unsplash.jpg", "/usr/share/backgrounds/default/nathan-dumlao-y_qtd7IizFE-unsplash.jpg"],
  ["../../lfs/wallpapers/ryan-stone-U3cctUBucn0-unsplash.jpg", "/usr/share/backgrounds/default/ryan-stone-U3cctUBucn0-unsplash.jpg"],
  ["../../lfs/wallpapers/smaran-alva-hno1wDtV1X4-unsplash.jpg", "/usr/share/backgrounds/default/smaran-alva-hno1wDtV1X4-unsplash.jpg"],
  ["../../lfs/wallpapers/william-daigneault-7c8z4KEvgds-unsplash.jpg", "/usr/share/backgrounds/default/william-daigneault-7c8z4KEvgds-unsplash.jpg"],
  ["../../lfs/wallpapers/zara-walker-_pC5hT6aXfs-unsplash.jpg", "/usr/share/backgrounds/default/zara-walker-_pC5hT6aXfs-unsplash.jpg"],

  # /usr/share/icons
  ["../../lfs/graphics/logo/logo.png", "/usr/share/icons/hicolor/256x256/apps/fedora-logo-icon.png"]
]

boot-location: modules
check-groups:
  type: file
  filename: group
check-passwd:
  type: file
  filename: passwd
default_target: graphical.target
documentation: true
etc-group-members:
  - wheel
ignore-removed-users:
  - root
ignore-removed-groups:
  - root
postprocess-script: post.sh
selinux: true
tmp-is-dir: true
